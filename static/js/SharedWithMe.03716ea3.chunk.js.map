{"version":3,"file":"static/js/SharedWithMe.03716ea3.chunk.js","mappings":"2KAQA,MAOaA,EAAmBC,IAC9B,MAAMC,GAPWC,EAAAA,EAAAA,KAEQC,UAAU,EAAG,GAUtC,OAH2BC,EAAAA,GAAGC,WAAW,aAEGC,IAAIL,GAE7CM,IAAI,CACHC,KAAMR,EAAaQ,KACnBC,SAAUT,EAAaS,SACvBC,QAASV,EAAaU,UAEvBC,MAAK,IACGV,IAERW,OAAOC,GACC,iCACP,EAEOC,EAAoBC,GACJX,EAAAA,GAAGC,WAAW,aAEGC,IAAIS,GAE7CC,MACAL,MAAML,GACDA,EAAIW,OACCX,EAAIY,OAEJ,OAGVN,OAAOC,IACN,MAAM,IAAIM,MAAM,iCAAmCN,EAAMO,QAAQ,G,+DC/CvE,SAAgB,UAAY,gCAAgC,MAAQ,4BAA4B,UAAY,iC,2FCU5G,MA6CA,EA7CqBC,IAA4B,IAADC,EAAA,MAALD,EACzC,MAAM,SAAEE,IAAaC,EAAAA,EAAAA,OACdN,EAAMO,IAAWC,EAAAA,EAAAA,aAClB,OAAEC,IAAWC,EAAAA,EAAAA,YAAWC,EAAAA,GAiB9B,OAfAC,EAAAA,EAAAA,YAAU,KACJP,IACFT,EAAAA,EAAAA,GAAiBS,GACdZ,MAAMoB,IACLN,EAAQM,EAAE,IAEXnB,OAAM,KACLa,EAAQ,CACNjB,KAAM,0BACNE,QAAS,GACTD,SAAU,IACV,GAER,GACC,CAACc,KAEFS,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOC,UAAUC,SAAA,EAC/BJ,EAAAA,EAAAA,MAACK,EAAAA,GAAI,CAACC,MAAO,CAAEC,UAAW,UAAYC,QAAS,OAAQC,QAAQ,KAAIL,SAAA,CAAC,kBAElEM,EAAAA,EAAAA,KAAA,OAAKT,UAAWC,EAAOS,gBAEzBX,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOU,QAAQR,SAAA,EAC7BJ,EAAAA,EAAAA,MAACK,EAAAA,GAAI,CAACG,QAAS,OAAQC,QAAQ,KAAIL,SAAA,CAAC,cAClB,OAAJlB,QAAI,IAAJA,OAAI,EAAJA,EAAMT,aAEpBuB,EAAAA,EAAAA,MAACK,EAAAA,GAAI,CAACG,QAAS,OAAQC,QAAQ,KAAIL,SAAA,CAAC,aACnB,OAAJlB,QAAI,IAAJA,OAAI,EAAJA,EAAMR,YAEnBgC,EAAAA,EAAAA,KAACL,EAAAA,GAAI,KACLK,EAAAA,EAAAA,KAACG,EAAAA,EAAiB,CAChBP,MAAOX,EAASmB,EAAAA,EAAUC,EAAAA,EAC1BC,iBAAiB,EACjBC,SAAS,aAAYb,SAEV,QAFUd,EAEhB,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMV,YAAI,IAAAc,EAAAA,EAAI,qBAGf,C","sources":["Helpers/FireBase/ShareBin.ts","webpack://dev-tools/./src/Pages/SharedWithMe/SharedWithMe.module.css?0d1e","Pages/SharedWithMe/SharedWithMe.tsx"],"sourcesContent":["import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\nimport { db } from '../../Config/Firebase';\r\nimport { TShareBinData } from '../../Components/ShareEditor/ShareEditorProps';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// Function to generate a short ID from a UUID\r\nconst generateShortId = () => {\r\n  const fullUuid = uuidv4();\r\n  // Truncate the UUID to get a shorter ID\r\n  const shortId = fullUuid.substring(0, 8); // You can adjust the length as needed\r\n  return shortId;\r\n};\r\n\r\nexport const addShareBinData = (shareBinData: TShareBinData) => {\r\n  const shortId = generateShortId();\r\n\r\n  const shareBinCollection = db.collection('share-bin');\r\n\r\n  const shareBinDocument = shareBinCollection.doc(shortId);\r\n  return shareBinDocument\r\n    .set({\r\n      code: shareBinData.code,\r\n      headline: shareBinData.headline,\r\n      comment: shareBinData.comment,\r\n    })\r\n    .then(() => {\r\n      return shortId;\r\n    })\r\n    .catch((error) => {\r\n      return 'Error adding share bin data: ';\r\n    });\r\n};\r\nexport const getSharedBinByID = (id: string): Promise<TShareBinData | null> => {\r\n  const shareBinCollection = db.collection('share-bin');\r\n\r\n  const shareBinDocument = shareBinCollection.doc(id);\r\n  return shareBinDocument\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        return doc.data() as TShareBinData;\r\n      } else {\r\n        return null;\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      throw new Error('Error getting share bin data: ' + error.message);\r\n    });\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SharedWithMe_container__5iEwk\",\"enter\":\"SharedWithMe_enter__+1pJJ\",\"separator\":\"SharedWithMe_separator__9zX5U\"};","import React, { useContext, useEffect, useState } from 'react';\nimport styles from './SharedWithMe.module.css';\nimport { SharedWithMeProps } from './SharedWithMeProps';\nimport { useParams } from 'react-router-dom';\nimport { TShareBinData } from '../../Components/ShareEditor/ShareEditorProps';\nimport { getSharedBinByID } from '../../Helpers/FireBase/ShareBin';\nimport { Text } from '../../Components';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { AppContext } from '../../Context/ThemeContext/ThemeContext';\nimport { dracula, github } from 'react-syntax-highlighter/dist/esm/styles/hljs';\n\nconst SharedWithMe = ({}: SharedWithMeProps) => {\n  const { targetId } = useParams();\n  const [data, setData] = useState<TShareBinData | null>();\n  const { isDark } = useContext(AppContext);\n\n  useEffect(() => {\n    if (targetId) {\n      getSharedBinByID(targetId)\n        .then((d) => {\n          setData(d);\n        })\n        .catch(() => {\n          setData({\n            code: 'Something went wrong...',\n            comment: '',\n            headline: '',\n          });\n        });\n    }\n  }, [targetId]);\n  return (\n    <div className={styles.container}>\n      <Text style={{ alignSelf: 'center' }} padding={'25px'} variant=\"h6\">\n        Shared With Me\n        <div className={styles.separator} />\n      </Text>\n      <div className={styles.content}>\n        <Text padding={'10px'} variant=\"h5\">\n          Headline : {data?.headline}\n        </Text>\n        <Text padding={'10px'} variant=\"h6\">\n          Comment : {data?.comment}\n        </Text>\n        <Text></Text>\n        <SyntaxHighlighter\n          style={isDark ? dracula : github}\n          showLineNumbers={true}\n          language=\"javascript\"\n        >\n          {data?.code ?? 'loading....'}\n        </SyntaxHighlighter>\n      </div>\n    </div>\n  );\n};\nexport default SharedWithMe;\n"],"names":["addShareBinData","shareBinData","shortId","uuidv4","substring","db","collection","doc","set","code","headline","comment","then","catch","error","getSharedBinByID","id","get","exists","data","Error","message","_ref","_data$code","targetId","useParams","setData","useState","isDark","useContext","AppContext","useEffect","d","_jsxs","className","styles","container","children","Text","style","alignSelf","padding","variant","_jsx","separator","content","SyntaxHighlighter","dracula","github","showLineNumbers","language"],"sourceRoot":""}