"use strict";(self.webpackChunkdev_tools=self.webpackChunkdev_tools||[]).push([[466],{86837:(e,t,n)=>{n.d(t,{s:()=>a});n(72791);const s="ConfirmModal_container__gM2W5",r="ConfirmModal_buttons__gvsF7";var o=n(19028),i=n(82880),l=n(80184);const a=e=>{let{title:t,handleModal:n,onNext:a}=e;const c=e=>{null===e||void 0===e||e(),n()};return(0,l.jsxs)("div",{className:s,children:[(0,l.jsxs)(o.x,{variant:"h6",children:[" ",t]}),(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(i.Z,{onClick:()=>c(),children:"Cancel"}),(0,l.jsx)(i.Z,{onClick:()=>c(a),children:"Yes!"})]})]})}},24335:(e,t,n)=>{n.d(t,{t:()=>p});n(72791);const s="InputButtons_container__bHQ8e";var r=n(63466),o=n(13400),i=n(20757),l=n(54404),a=n(27247),c=n(50194),d=n(94598),u=n(59402),h=n(95884),x=n(18669),j=n(80184);const v=e=>{let{multiLineInputRef:t}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.E,{onClick:()=>{t&&t.current&&(t.current.style.textAlign="right")},children:(0,j.jsx)(u.Z,{})}),(0,j.jsx)(d.E,{onClick:()=>{t&&t.current&&(t.current.style.textAlign="left")},children:(0,j.jsx)(h.Z,{})}),(0,j.jsx)(d.E,{onClick:()=>{t&&t.current&&(t.current.style.textAlign="center")},children:(0,j.jsx)(x.Z,{})})]})};var m=n(25594);const p=e=>{let{onChange:t,value:n,type:u,withFile:h=!0,editor:x=!1,multiLineInputRef:p}=e;return(0,j.jsxs)(r.Z,{className:s,position:"end",children:[(0,j.jsx)(d.E,{placement:"right",title:"Copy",onClick:()=>(0,l.r0)(n),children:(0,j.jsx)(c.Z,{})}),(0,j.jsx)(d.E,{placement:"left",title:"Paste",onClick:()=>(0,l.a9)(t),children:(0,j.jsx)(m.Z,{})}),(0,j.jsx)(d.E,{placement:"right",title:"Delete",onClick:()=>t(""),children:(0,j.jsx)(a.Z,{})}),h&&(0,j.jsxs)(o.Z,{onClick:()=>{},children:[(0,j.jsx)("input",{type:"file",accept:".txt,.json",id:"fileInput".concat(u),onChange:e=>(0,l.pl)(e,t),style:{display:"none"}}),(0,j.jsx)("label",{htmlFor:"fileInput".concat(u),children:(0,j.jsx)(i.Z,{})})]}),x&&(0,j.jsx)(v,{multiLineInputRef:p})]})}},87578:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ve});var s=n(72791);const r="Notes_container__joMyt",o="Notes_separator__KRtoi",i="Notes_content__PPCRZ";var l=n(19028);const a="SearchBar_container__1josg",c="SearchBar_dropDown__NPdVq",d="SearchBar_dropDownContainer__++oiw",u="SearchBar_textField__NElI3";var h=n(27391),x=n(7198),j=n(77865),v=n(5403),m=n(5130),p=n(80184);const _=e=>{let{value:t,onChange:n,options:r,filterByTimeAndSection:o}=e;const[i,l]=(0,s.useState)("All"),[_,g]=(0,s.useState)("Descending");return(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)(h.Z,{className:u,label:"Search",variant:"outlined",fullWidth:!0,value:t,onChange:e=>n(e.target.value),InputProps:{startAdornment:(0,p.jsx)(v.Z,{}),endAdornment:t&&(0,p.jsxs)("div",{onClick:()=>n(""),children:[" ",(0,p.jsx)(m.Z,{})]})}}),(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)(x.Z,{className:c,value:i,onChange:e=>{l(e.target.value),o(_,e.target.value)},children:["All",...r].map(((e,t)=>(0,p.jsx)(j.Z,{value:e,children:e},e+t)))}),(0,p.jsx)(x.Z,{className:c,value:_,onChange:e=>{g(e.target.value),o(e.target.value,i)},children:["Descending","Ascending"].map((e=>(0,p.jsx)(j.Z,{value:e,children:e},e)))})]})]})},g="NotesList_container__0jBjn",f="NotesList_listContainer__ZRQfm",b="NotesList_list__fdBwB",N="NotesList_fab__GrFA-",C="NotesItem_container__lw3At",y="NotesItem_removeItem__Tv6oD",I="NotesItem_date__Fa4cQ",L="NotesItem_text__r0cAd",Z="NotesItem_blurText__ATRdB",k="NotesItem_textContainer__euD7W";var w=n(57621),S=n(94598),A=n(86711),E=n(3746),R=n(20165),B=n(31246),M=n(86837);const T=e=>{let{item:t,deleteItem:n,updateNoteBlur:r}=e;const o=t.blurred?Z:"",{handleModal:i}=(0,s.useContext)(B.t);return(0,p.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,p.jsxs)(w.Z,{sx:{boxShadow:5},className:C,children:[(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)(S.E,{placement:"top",title:t.blurred?"show":"hide",onClick:e=>{e.stopPropagation(),r()},children:t.blurred?(0,p.jsx)(E.Z,{}):(0,p.jsx)(R.Z,{})}),(0,p.jsx)(S.E,{placement:"top",title:"Delete",onClick:e=>{e.stopPropagation(),i((0,p.jsx)(M.s,{title:"Sure?",onNext:n}))},children:(0,p.jsx)(A.Z,{color:"error"})})]}),(0,p.jsx)("div",{className:"".concat(k," ").concat(o),children:(0,p.jsx)(l.x,{variant:"subtitle2",className:L,children:t.text})}),(0,p.jsx)("div",{className:I,children:(0,p.jsx)(l.x,{flexWrap:"wrap",variant:"caption",children:t.date})})]})})},O="Seperator_container__a-786",D="Seperator_separator__nbNuj";var F=n(62226),P=n(13967),W=n(18384),Y=n(27247);const Q=e=>{let{title:t,changeSectionTitle:n,deleteSection:r}=e;const o=(0,P.Z)(),[i,l]=(0,s.useState)(t),[a,c]=(0,s.useState)(!0),{handleModal:d}=(0,s.useContext)(B.t);return(0,p.jsxs)("div",{className:O,children:[(0,p.jsx)("div",{className:D}),(0,p.jsx)(h.Z,{variant:"standard",value:i,sx:{"& .MuiInputBase-input.Mui-disabled":{opacity:1,WebkitTextFillColor:"dark"===o.palette.mode?"white":"rgba(0, 0, 0, 1)",border:"none"},"& .MuiInputBase-root.Mui-disabled":{border:"none",outline:"none"},input:{textAlign:"center"}},InputProps:{disableUnderline:a,style:{textAlign:"center"}},onChange:e=>l(e.target.value),disabled:a}),a?(0,p.jsx)(S.E,{placement:"left",onClick:()=>c(!a),children:(0,p.jsx)(F.Z,{})}):(0,p.jsx)(S.E,{onClick:()=>{n(i),c(!a)},children:(0,p.jsx)(W.Z,{})}),(0,p.jsx)(S.E,{placement:"right",title:"delete",onClick:()=>{d((0,p.jsx)(M.s,{title:'This Action will delete all from "'.concat(t,'" section'),onNext:r}))},children:(0,p.jsx)(Y.Z,{})}),(0,p.jsx)("div",{className:D})]})},G="NoteModal_container__N0beR",H="NoteModal_input__yy5+9",X="NoteModal_buttons__-YRfK";var q=n(47419),U=n(19924),K=n(24335);const V=e=>{let{value:t,onChange:n,handleModal:r}=e;const[o,i]=(0,s.useState)(t),l=(0,s.useRef)(null);return(0,p.jsxs)("div",{style:{width:"80vw"},children:[(0,p.jsxs)("div",{className:X,children:[(0,p.jsx)(S.E,{placement:"top",title:"Cancel",onClick:()=>r(),children:(0,p.jsx)(U.Z,{color:"error"})}),(0,p.jsx)(S.E,{placement:"top",title:"Save",onClick:()=>{n(o),r()},children:(0,p.jsx)(W.Z,{color:"success"})})]}),(0,p.jsx)("div",{className:G,children:(0,p.jsx)(q.B,{minRows:15,className:H,value:o,onChange:e=>i(e),inputRef:l,InputProps:{endAdornment:(0,p.jsx)(K.t,{withFile:!0,value:o,onChange:i,editor:!0,multiLineInputRef:l})}})})]})},J="AddItem_container__MQ94i";var z=n(42419);const $=e=>{let{onAddItem:t}=e;return(0,p.jsx)("div",{onClick:()=>t(),className:J,children:(0,p.jsx)(z.Z,{sx:{width:"80px",height:"80px",border:"2px dashed #90caf9",borderRadius:"16px"},color:"primary"})})};var ee=n(54261),te=n(1452),ne=n(49877),se=n(16585),re=n(27936),oe=n(95259);const ie=e=>{let{list:t,setList:n,user:r,setOriginalList:o}=e;const{handleModal:i}=(0,s.useContext)(B.t),l=Object.entries(t),a=(0,s.useRef)(l.length);(0,s.useEffect)((()=>{a.current=l.length+1}),[t,l.length]);const c=(0,s.useCallback)(((e,t,s)=>{n((n=>{const r={...n[e],notes:{...n[e].notes,[t]:{...n[e].notes[t],text:s}}};return{...n,[e]:r}}))}),[n]),d=(0,s.useCallback)(((e,t)=>{n((n=>{const s={...n[e],notes:{...n[e].notes,[t]:{...n[e].notes[t],blurred:!n[e].notes[t].blurred}}};return r&&(0,oe.kI)(r,e,t,!n[e].notes[t].blurred),{...n,[e]:s}}))}),[n]),u=(0,s.useCallback)((e=>{let{noteId:n,sectionId:s}=e;i((0,p.jsx)(V,{onChange:e=>{c(s,n,e),(0,oe.iW)(r,s,n,e)},value:t[s].notes[n].text}))}),[i,t,c,r]);return(0,p.jsxs)("div",{className:f,children:[l.map(((e,t)=>(0,p.jsxs)("div",{id:e[0],style:{width:"100%"},children:[(0,p.jsx)(Q,{deleteSection:()=>{return t=e[0],r&&(0,oe.Oi)(r,t),void n((e=>{const n={...e};return delete n[t],o(n),n}));var t},changeSectionTitle:t=>{return s=e[0],o=t,r&&(0,oe.HO)(r,o,s),void n((e=>{const t={...e[s],subject:o};return{...e,[s]:t}}));var s,o},title:e[1].subject}),(0,p.jsxs)("div",{className:b,children:[Object.entries(e[1].notes).map((t=>(0,p.jsx)("div",{onClick:()=>u({noteId:t[0],sectionId:e[0]}),className:g,children:(0,p.jsx)(T,{deleteItem:()=>{return s=e[0],i=t[0],r&&(0,oe.lj)(r,s,i),void n((e=>{const t={...e};return delete t[s].notes[i],o(t),t}));var s,i},updateNoteBlur:()=>d(e[0],t[0]),item:t[1]})},t[0]))),(0,p.jsx)("div",{className:g,children:(0,p.jsx)($,{onAddItem:()=>(e=>{const t=(0,ee.Z)();r&&(0,oe.AL)(r,e,{[t]:{pinned:!1,blurred:!1,text:"",date:(0,te.h)(),timeStamp:(0,te.d)()}}),n((n=>{const s={...n};return s[e].notes[t]={blurred:!1,pinned:!1,text:"",date:(0,te.h)(),timeStamp:(0,te.d)()},o(s),s}))})(e[0])})})]})]},e[0]))),(0,p.jsx)("div",{className:N,children:(0,p.jsx)(ne.Z,{color:"primary","aria-label":"add",onClick:()=>{const e=(0,ee.Z)();r&&(0,oe.qG)(r,"Section ".concat(a.current),e),n((t=>{const n={...t,[e]:{subject:"Section ".concat(a.current),notes:{}}};return o(n),n})),setTimeout((()=>{(0,se.X)({id:e})}),100),a.current++},children:(0,p.jsx)(re.d,{placement:"top",title:"Add section",children:(0,p.jsx)(z.Z,{})})})})]})};var le=n(72426),ae=n.n(le);const ce=(e,t,n)=>{const s=((e,t)=>{const n={};for(const s in e){const r=e[s],o={};Object.entries(r.notes).sort(((e,n)=>{const s=ae()(e[1].timeStamp),r=ae()(n[1].timeStamp);return"Ascending"===t?s.isBefore(r)?-1:1:r.isBefore(s)?-1:1})).forEach((e=>{let[t,n]=e;o[t]=n})),Object.keys(o).length>0&&(n[s]={subject:r.subject,notes:o})}return n})(e,t),r=((e,t)=>{for(const n in e)if(e[n].subject===t)return{[n]:e[n]};return e})(s,n);return r};var de=n(33899);const ue={container:"RefreshControl_container__XGHGF",refreshIndicator:"RefreshControl_refreshIndicator__LajU2",showLoader:"RefreshControl_showLoader__iH13Q"};var he=n(31224),xe=n(13239);const je=e=>{let{onRefresh:t,children:n}=e;const r=(0,s.useRef)(null),o=(0,he.g)(r,t);return(0,p.jsx)("div",{className:ue.refreshWrapper,children:(0,p.jsxs)("div",{ref:r,className:ue.container,children:[(0,p.jsx)("div",{className:"".concat(ue.refreshIndicator," ").concat(o?ue.showLoader:""),children:(0,p.jsx)(xe.Z,{})}),n]})})},ve=()=>{const{filteredList:e,list:t,quary:n,setFilteredList:a,setList:c,setQuary:d,user:u,getAll:h}=(0,s.useContext)(de.U),x=(0,s.useMemo)((()=>Object.entries(t).map((e=>e[1].subject))),[t]);return(0,p.jsxs)("div",{className:r,children:[(0,p.jsx)("div",{children:(0,p.jsxs)(l.x,{style:{alignSelf:"center",textAlign:"center"},padding:"25px",variant:"h6",children:["Notes",(0,p.jsx)("div",{className:o})]})}),(0,p.jsx)(l.x,{style:{alignSelf:"center",textAlign:"center",paddingBottom:25},variant:"subtitle2",children:null!==u&&void 0!==u&&u.email?"Logged in as ".concat(null===u||void 0===u?void 0:u.email):"Log In with your Google Account to save your progress"}),(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)(_,{value:n,onChange:n=>{if(d(n),!n)return a(t);a(((e,t)=>{const n={};for(const s in e){const r=e[s],o={};for(const e in r.notes){const n=r.notes[e],{text:s}=n;s.toLowerCase().includes(t.toLowerCase())&&(o[e]=n)}Object.keys(o).length>0&&(n[s]={subject:r.subject,notes:o})}return Object.keys(n).length>0?n:e})(e,n))},options:x,filterByTimeAndSection:(e,n)=>{if("All"===n)return a(ce(t,e,n));a(ce(t,e,n))}}),(0,p.jsx)(je,{onRefresh:h,children:(0,p.jsx)(ie,{user:null===u||void 0===u?void 0:u.email,list:e,setList:a,setOriginalList:c})})]})]})}},54404:(e,t,n)=>{n.d(t,{a9:()=>s,pl:()=>o,r0:()=>r});const s=e=>{navigator.clipboard.readText().then((function(){e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}))},r=e=>{navigator.clipboard.writeText(e).then((()=>{console.log("Text copied to clipboard")})).catch((e=>{console.error("Error copying text to clipboard:",e)}))},o=(e,t)=>{var n;const s=null===(n=e.target.files)||void 0===n?void 0:n[0];if("application/json"===s.type||"text/plain"===s.type){const e=new FileReader;e.onload=e=>{var n;const s=null===(n=e.target)||void 0===n?void 0:n.result;t(s)},e.readAsText(s)}else alert("Invalid file type. Only JSON and TXT files are supported.")}},16585:(e,t,n)=>{n.d(t,{X:()=>s});const s=e=>{let{id:t,behavior:n="smooth",block:s="start",withHighlight:r=!1}=e;const o=document.getElementById(t);o&&(o.scrollIntoView({behavior:n,block:s}),r&&(o.classList.add("custom-highlighted-class"),setTimeout((()=>{o&&o.classList.remove("custom-highlighted-class")}),3e3)))}},1452:(e,t,n)=>{n.d(t,{d:()=>r,h:()=>s});const s=()=>{const e=Date.now(),t=new Date(e),n=t.toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"2-digit"}),s=t.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"});return"".concat(s," ").concat(n," ")},r=()=>Date.now()},31224:(e,t,n)=>{n.d(t,{g:()=>a});var s=n(72791);const r=100,o=.3,i=128,l=.4;function a(e,t){const[n,a]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const n=e.current;if(n)return n.addEventListener("touchstart",s),()=>{n.removeEventListener("touchstart",s)};function s(e){if(!n)return;const s=e.touches[0].clientY;async function c(e){if(!n)return;const t=e.touches[0].clientY-s;var o;t<0||(n.style.transform="translateY(".concat((o=t,i*(1-Math.exp(-l*o/i))),"px)"),a(t>r))}function d(){n&&(n.style.transition="",n.removeEventListener("transitionend",d))}n.addEventListener("touchmove",c),n.addEventListener("touchend",(async function e(i){if(!n)return;n.style.transition="transform ".concat(o,"s ease-in-out"),n.style.transform="translateY(0)";const l=i.changedTouches[0].clientY;if(l-s>r)try{await t()}catch(u){console.error("Error during refresh:",u)}finally{a(!1),n.style.transition=""}n.addEventListener("transitionend",d),n.removeEventListener("touchmove",c),n.removeEventListener("touchend",e)}))}}),[e.current,t]),n}}}]);
//# sourceMappingURL=Notes.d7306dfc.chunk.js.map