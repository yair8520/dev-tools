"use strict";(self.webpackChunkdev_tools=self.webpackChunkdev_tools||[]).push([[515],{28526:(e,t,n)=>{n.d(t,{Hk:()=>o,e$:()=>d,fG:()=>l,kX:()=>c});n(46331),n(46439);var a=n(52098),i=n(54261),s=n(1452);const r=e=>{if(!a.I8.currentUser)return void console.log("not auth",a.I8.currentUser);e(a.db.collection("users").doc(a.I8.currentUser.email))},o=async(e,t)=>new Promise(((n,a)=>{r((i=>{const s={"share-bin":{["".concat(e)]:{comment:t.comment,date:t.date,headline:t.headline}}};i.set(s,{merge:!0}).then((()=>n())).catch((e=>a(e)))}))})),c=async()=>new Promise(((e,t)=>{r((n=>{n.get().then((t=>{if(t.exists){var n;const a=(null===(n=t.data())||void 0===n?void 0:n["share-bin"])||null;e(a)}else e(null)})).catch(t)}))})),d=e=>{const t=(0,i.Z)().substring(0,8);return a.db.collection("share-bin").doc(t).set({code:e.code,headline:e.headline,comment:e.comment,date:(0,s.hK)()}).then((()=>t)).catch((e=>"Error adding share bin data: "))},l=e=>a.db.collection("share-bin").doc(e).get().then((e=>e.exists?e.data():null)).catch((e=>{throw new Error("Error getting share bin data: "+e.message)}))},1452:(e,t,n)=>{n.d(t,{df:()=>s,dg:()=>i,hK:()=>a});const a=()=>{const e=Date.now(),t=new Date(e),n=t.toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"2-digit"}),a=t.toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"});return"".concat(a," ").concat(n," ")},i=()=>Date.now(),s=(e,t)=>{const n=e=>{if(!e)return null;const[t,n]=e.split(" "),[a,i]=t.split(":"),[s,r,o]=n.split(".");return new Date("20".concat(o,"-").concat(r,"-").concat(s,"T").concat(a,":").concat(i))},a=n(e.date),i=n(t.date);return a&&i?i.getTime()-a.getTime():a?-1:i?1:0}},16396:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(72791);const i={container:"SharedWithMe_container__5iEwk",enter:"SharedWithMe_enter__+1pJJ",separator:"SharedWithMe_separator__9zX5U",saveCon:"SharedWithMe_saveCon__rGc+2",codeContainer:"SharedWithMe_codeContainer__pdJec"};var s=n(57689),r=n(28526),o=n(69385),c=n(98426),d=n(61918),l=n(40555),h=n(7653),u=n(6828),v=n(5536),g=n(35527),m=n(80184);const x=()=>{var e;const t=(0,s.s0)(),{targetId:n}=(0,s.UO)(),[x,p]=(0,a.useState)(),[f,j]=(0,a.useState)(),{isDark:_}=(0,a.useContext)(d.I),{user:b}=(0,a.useContext)(u.S);return(0,a.useEffect)((()=>{n&&(0,r.fG)(n).then((e=>{p(e)})).catch((()=>{p(null)}))}),[n]),(0,a.useEffect)((()=>{x&&b&&(0,r.Hk)(n,x).then((()=>j(!0))).catch((()=>{}))}),[x,n,b]),(0,m.jsxs)("div",{className:i.container,children:[(0,m.jsxs)(o.xv,{style:{alignSelf:"center"},padding:"25px",variant:"h6",children:["Shared With Me",(0,m.jsx)("div",{className:i.separator})]}),(0,m.jsx)("div",{style:{alignSelf:"center"},children:null!==b&&void 0!==b&&b.email?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:i.saveCon,children:["Logged in as ",null===b||void 0===b?void 0:b.email,(0,m.jsx)("br",{}),f?(0,m.jsxs)(o.xv,{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},children:["Data saved in your account",(0,m.jsx)(v.Z,{onClick:()=>t("/share-bin")})]}):null]})}):"Log In with your Google Account to save "}),(0,m.jsxs)("div",{className:i.content,children:[(0,m.jsxs)(g.Z,{children:[(0,m.jsxs)(o.xv,{padding:"10px",variant:"h6",children:["Headline : ",null===x||void 0===x?void 0:x.headline]}),(null===x||void 0===x?void 0:x.comment)&&(0,m.jsxs)(o.xv,{padding:"10px",variant:"h6",children:["Comment : ",null===x||void 0===x?void 0:x.comment]}),(0,m.jsxs)(o.xv,{padding:"10px",variant:"h6",children:["Date : ",null===x||void 0===x?void 0:x.date]})]}),(0,m.jsx)(c.Z,{style:_?l.Z:h.Z,showLineNumbers:!0,language:"javascript",children:null!==(e=null===x||void 0===x?void 0:x.code)&&void 0!==e?e:"Error Invalid link: please try again "})]})]})}}}]);
//# sourceMappingURL=SharedWithMe.3dcd2a67.chunk.js.map